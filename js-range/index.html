<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Session对象与Range对象的使用</title>
</head>

<body>
  <script>
    function rangeTest() {
      var html;
      showRangeDiv = document.getElementById("showRange");
      selection = document.getSelection();
      if (selection.rangeCount > 0) {
        html = "You choose>" + selection.rangeCount + "<content<br/>";
        for (var i = 0; i < selection.rangeCount; i++) {
          var range = selection.getRangeAt(i);
          html += "The" + (i + 1) + "content is:" + range + "<br/>";
        }
        showRangeDiv.innerHTML = html;
      }
    }

  </script>
  Session对象与Range对象的使用
  <input type="button" value="CLICK ME" onclick="rangeTest()">
  <div id="showRange"></div>
  <br/>
  <br/>
  <br/>
  <br/>
  <script>
    function deleteRangeContent(onlyContent) {
      var div = document.getElementById("div");
      var rangeObj = document.createRange();
      if (onlyContent) {
        rangeObj.selectNodeContents(div);
        rangeObj.deleteContents();
      } else {
        rangeObj.selectNode(div);
        rangeObj.deleteContents();
      }
    }

  </script>
  <div id="div" style="background: #e0a0b0;width: 300px;height: 50px;">
    元素中的内容
  </div>
  <button onclick="deleteRangeContent(true)">删除内容</button>
  <button onclick="deleteRangeContent(false)">删除元素</button>
  <br/>
  <br/>
  <br/>
  <br/>
  <script>
    function deleteChar() {
      var div = document.getElementById("myDiv");
      var textNode = div.firstChild;
      var rangeObj = document.createRange();
      rangeObj.setStart(textNode, 1);
      rangeObj.setEnd(textNode, 4);
      rangeObj.deleteContents();
    }

  </script>
  <div id="myDiv" style="color: red">
    这段文字是用来删除的
  </div>
  <button onclick="deleteChar()">删除文字</button>
  <br/>
  <br/>
  <br/>
  <br/>
  <script>
    function deleteRow() {
      var table = document.getElementById("myTable");
      if (table.rows.length > 0) {
        var row = table.rows[0];
        var rangeObj = document.createRange();
        rangeObj.setStartBefore(row);
        rangeObj.setEndAfter(row);
        rangeObj.deleteContents();
      }
    }

  </script>
  <table id="myTable" border="1" cellspacing="0" cellpadding="0">
    <tr>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <td>3</td>
      <td>4</td>
    </tr>
    <tr>
      <td>5</td>
      <td>6</td>
    </tr>
  </table>
  <button onclick="deleteRow()">delete first line</button>
</body>

</html>
